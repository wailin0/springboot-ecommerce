<!DOCTYPE html>
<html lang="en" ng-app="BlogApp" xmlns:th="https://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="admin-themes-lab">
    <meta name="author" content="themes-lab">
    <link rel="gaming age icon" type="image/png" th:href="@{/img/favicon.png}" />
    <title>Admin Blog</title>
    <link href="../admin/css/style.css" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link href="../admin/css/ui.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../admin/css/layout.css" rel="stylesheet">
    <link href="../admin/css/summernote.min.css" rel="stylesheet">
    <!-- BEGIN PAGE STYLE -->

    <link href="../admin/css/hover-effects.min.css" rel="stylesheet">

  </head>

  <body class="sidebar-condensed fixed-topbar fixed-sidebar theme-sdtl color-default">
    <!--[if lt IE 7]>
    <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <section>
      <!-- BEGIN SIDEBAR -->
      <div class="sidebar">
        <div class="logopanel">
          <h1>
          <img src="../admin/images/logo/logo-white.png" width="91" height="28" />
            <a href="/admin"></a>
          </h1>
        </div>
        <div class="sidebar-inner">
       
          
          <ul class="nav nav-sidebar">
            <li ><a href="/admin"><i class="fa fa-desktop"></i><span>Dashboard</span></a></li>
            <li class="nav-parent">
              <a href="#"><i class="fa fa-comments-o"></i><span>Info</span> <span class="fa arrow"></span></a>
              <ul class="children collapse">
                <li><a href="/admin/info"> Company</a></li>
                <li><a href="/admin/faq"> FAQ</a></li>
              </ul>
            </li>
			<li class="nav-parent">
              <a href="#"><i class="fa fa-cart-plus"></i><span>Product</span> <span class="fa arrow"></span></a>
              <ul class="children collapse">
                <li><a  href="/admin/game"> Game</a></li>
                <li><a  href="/admin/giftcard"> Gift Card</a></li>
                <li><a  href="/admin/merchandise"> Merchandise</a></li>
              </ul>
            </li>
            <li class="nav-parent">
              <a href="#"><i class="fa fa-opencart"></i><span>Order</span> <span class="fa arrow"></span></a>
              <ul class="children collapse">
                <li><a  href="/admin/order"> New</a></li>
                <li><a href="/admin/delivering"> Delivering</a></li>
                <li><a href="/admin/delivered"> Delivered</a></li>
              </ul>
            </li>
            <li class="nav-parent" sec:authorize="hasRole('ROLE_ADMIN')">
              <a href="#"><i class="fa fa-envelope-o"></i><span>Mail</span> <span class="fa arrow"></span></a>
              <ul class="children collapse">
                <li><a  href="/admin/mail"> Inbox</a></li>
              </ul>
            </li>
           
            <li class="nav-parent active">
              <a href=""><i class="fa fa-edit"></i><span>Blog </span><span class="fa arrow"></span></a>
              <ul class="children collapse">
                <li class="active"><a href="/admin/blog"> Blog</a></li>
              </ul>
            </li>
            <li class="nav-parent" sec:authorize="hasRole('ROLE_ADMIN')">
              <a href=""><i class="fa fa-user-o"></i><span>User </span><span class="fa arrow"></span></a>
              <ul class="children collapse">
                <li><a href="/admin/customer"> Customer</a></li>
                <li><a href="/admin/mod"> Moderator</a></li>
              </ul>
            </li>
          </ul>
      
      
          <div class="sidebar-footer clearfix">
            <a class="pull-left footer-settings" href="#" data-rel="tooltip" data-placement="top" data-original-title="Settings">
            <i class="fa fa-cog"></i></a>
            <a class="pull-left toggle_fullscreen" href="#" data-rel="tooltip" data-placement="top" data-original-title="Fullscreen">
            <i class="fa fa-crosshairs"></i></a>
            <a class="pull-left" href="/admin/lock" data-rel="tooltip" data-placement="top" data-original-title="Lockscreen">
            <i class="fa fa-lock"></i></a>
            <a class="pull-left btn-effect" href="/logout" data-modal="modal-1" data-rel="tooltip" data-placement="top" data-original-title="Logout">
            <i class="fa fa-power-off"></i></a>
          </div>
        </div>
      </div>
      <!-- END SIDEBAR -->
      <div class="main-content">
        <!-- BEGIN TOPBAR -->
        <div class="topbar">
          <div class="header-left">
            <div class="topnav">
              <a class="menutoggle" href="#" data-toggle="sidebar-collapsed"><span class="menu__handle"><span>Menu</span></span></a>
              
            </div>
          </div>
          <div class="header-right">
            <ul class="header-menu nav navbar-nav">
             
              <li class="dropdown" id="user-header">
                <a href="#" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
               
                <span >Hi, <span th:text="${name}"></span></span>
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a href="/account"><i class="fa fa-user"></i><span>My Profile</span></a>
                  </li>
               
                  <li>
                    <a href="/account"><i class="fa fa-cog"></i><span>Account Settings</span></a>
                  </li>
                  <li>
                    <a href="/logout"><i class="fa fa-power-off"></i><span>Logout</span></a>
                  </li>
                </ul>
              </li>
              <!-- END USER DROPDOWN -->
           
            </ul>
          </div>
          <!-- header-right -->
        </div>
        <!-- END TOPBAR -->
        <!-- BEGIN PAGE CONTENT -->
        <div class="page-content">
          <div class="header">
          <div th:if="${blogDeleteSuccess}">
          <div class="alert alert-success" th:text="${blogDeleteSuccess}"></div>
          </div>
          
            <h2><button class="btn btn-danger btn-rounded" data-toggle="modal" data-target="#create-post" >Create Post</button></h2>
            <div class="breadcrumb-wrapper">
              <ol class="breadcrumb">
                <li><a href="#">Admin</a>
                </li>
                <li class="active">Blog</li>
              </ol>
            </div>
          </div>
         
          <div class="row" ng-controller="BlogController">
            <div class="col-lg-12 portlets">
              <div class="panel panel-transparent">
                <div class="panel-content">
                  <div class="portfolioContainer grid">
                   
                    <figure class="effect-sadie" ng-repeat="blog in blogPost">
                      <img src="https://gamingage.s3.amazonaws.com/blog/{{blog.id}}.jpg?version=null" alt="{{ blog.title }}" height="400" width="640" />
                      <figcaption>
                        <h5 style="margin: 0 auto; padding: 0 auto;text-transform: capitalize;">{{ blog.title }}</h5>
                        <p>by {{ blog.blogger }}.</p>
                        <a href="/admin/blogDetail/{{blog.id}}">View more</a>
                      </figcaption>
                    </figure>
        
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          
          <div class="modal fade" id="create-post" aria-hidden="true">
          <form action="/admin/blog" method="post" th:object="${blogForm}" enctype="multipart/form-data" >
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i></button>
                  <h4 class="modal-title"><strong>Upload a post</strong></h4>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label for="field-1" class="control-label">Title</label>
                        <input type="text" class="form-control" name="title" size="30" placeholder="post title" required="required">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label for="field-1" class="control-label">Category</label>
                        <input type="text" class="form-control" name="category" size="30" placeholder="blog category" required="required">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <div class="form-group">
                        <label for="field-1" class="control-label">Cover Photo (only used for Thumbnail)</label>
                        <input type="file" class="form-control" name="photo" required="required">
                      </div>
                    </div>
                  </div>
           
                  <div class="row">
                    <div class="col-md-12">
                    <div class="form-group">
                    <label for="field-5" class="control-label">Content (Notice: Photo can be drag & drop)</label>
                      <textarea class="summernote" name="body" ></textarea>
                    </div>
             	   </div>
                  </div>
                      
                </div>
                <div class="modal-footer text-center">
                  <button type="submit" class="btn btn-primary btn-embossed bnt-square" ><i class="fa fa-upload"></i> Upload</button>
                  <button type="reset" class="btn btn-danger btn-embossed bnt-square" ><i class="fa fa-cross"></i> Reset</button>
                </div>
              </div>
            </div>
            </form>
          </div>
          
          
          
          
          
          
          <div class="footer">
            <div class="copyright">
              <p class="pull-left sm-pull-reset">
                <span>Copyright <span class="copyright">Â©</span> 2020 </span>
                <span>Digi Age</span>.
                <span>All rights reserved. </span>
              </p>
              <p class="pull-right sm-pull-reset">
                <span><a href="#" class="m-r-10">Support</a> | <a href="#" class="m-l-10 m-r-10">Terms of use</a> | <a href="#" class="m-l-10">Privacy Policy</a></span>
              </p>
            </div>
          </div>
        </div>
        <!-- END PAGE CONTENT -->
      </div>
      <!-- END MAIN CONTENT -->
  
    </section>
 
    <!-- BEGIN PRELOADER -->
    <div class="loader-overlay">
      <div class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
      </div>
    </div>
    <!-- END PRELOADER -->
    <a href="#" class="scrollup"><i class="fa fa-angle-up"></i></a> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../admin/js/jquery-migrate-3.0.0.min.js"></script>
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script src="../admin/js/application.js"></script> <!-- Main Application Script -->

    <script src="../admin/js/layout.js"></script>
    <script src="../admin/js/plugins.js"></script>
    <script src="../admin/js/summernote.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.9/angular.min.js"></script>
    <script type="text/javascript">
    
    var app = angular.module('BlogApp', []);
    
    app.controller('BlogController', function($scope, $http) {

 
  	  $http.get('/rest/blogPost').
        then(function(response) {
            $scope.blogPost = response.data;
        });
    });
    
    </script>
  </body>
</html>